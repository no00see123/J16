# ========== J16 made  å®Œç¾ä¼˜åŒ–ç‰ˆ 2025-10-06 ==========
[General]
# ----- åº•å±‚ç½‘ç»œ -----
bypass-system = true
skip-proxy = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, localhost, *.local, captive.apple.com
tun-excluded-routes = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32, 239.255.255.250/32

# ----- DNS  -----
dns-server = https://doh.pub/dns-query,https://dns.alidns.com/dns-query
fallback-dns-server = system
ipv6 = true
prefer-ipv6 = false
dns-direct-system = true          # å›½å†…åŸŸåèµ°ç³»ç»ŸDNSï¼Œå‡å°‘ä»£ç†RTT
dns-fallback-system = false
icmp-auto-reply = true
always-reject-url-rewrite = false
private-ip-answer = true
resource-cache-ttl = 86400        # åœ¨çº¿è§„åˆ™é›†æœ¬åœ°ç¼“å­˜1å¤©
external-controller = 0.0.0.0:9090
allow-wifi-access = true

# ========== ç­–ç•¥ç»„ ==========
ğŸš€ ç­–ç•¥é€‰æ‹© = select,ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹ = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=100,timeout=5,policy-regex-filter=.*ç¾.*,select=0
ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹ = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=100,timeout=5,policy-regex-filter=.*æ–°.*,select=0
ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹ = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=100,timeout=5,policy-regex-filter=.*æ—¥.*,select=0
ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹ = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=100,timeout=5,policy-regex-filter=.*æ¸¯.*,select=0
ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹ = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=100,timeout=5,policy-regex-filter=.*å°.*,select=0
ğŸŒ å…¨çƒç›´è¿ = select,DIRECT
# ç»†åˆ†åŠŸèƒ½ç»„
äººå·¥æ™ºèƒ½ = select,ğŸš€ ç­–ç•¥é€‰æ‹©,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
Google = select,ğŸš€ ç­–ç•¥é€‰æ‹©,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
Crypto = select,ğŸš€ ç­–ç•¥é€‰æ‹©,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
Twitter = select,ğŸš€ ç­–ç•¥é€‰æ‹©,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
Telegram = select,ğŸš€ ç­–ç•¥é€‰æ‹©,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
YouTube = select,ğŸš€ ç­–ç•¥é€‰æ‹©,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
Discord = select,ğŸš€ ç­–ç•¥é€‰æ‹©,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
å›½å†…åª’ä½“ = select,ğŸš€ ç­–ç•¥é€‰æ‹©,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
å›½å¤–åª’ä½“ = select,ğŸš€ ç­–ç•¥é€‰æ‹©,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
å¥ˆé£ = select,ğŸš€ ç­–ç•¥é€‰æ‹©,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
å“”å“©å“”å“© = select,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹

# ========== è§„åˆ™æ®µ [Rule]  é¡ºåº = æ•ˆç‡ä¼˜å…ˆ ==========
# 1ï¸âƒ£ å»å¹¿å‘Š+éšç§ï¼ˆç›´æ¥æ‹’ç»ï¼Œæ— MITMï¼‰
RULE-SET,https://anti-ad.net/clash.yaml,REJECT

# 2ï¸âƒ£ å±€åŸŸç½‘ & ç§æœ‰IP
IP-CIDR,192.168.0.0/16,DIRECT
IP-CIDR,10.0.0.0/8,DIRECT
IP-CIDR,172.16.0.0/12,DIRECT
IP-CIDR,127.0.0.0/8,DIRECT
GEOIP,CN,DIRECT

# 3ï¸âƒ£ ä¸‹è½½åŸŸåï¼ˆå¤§æ–‡ä»¶èµ°ç›´è¿ï¼Œçœæµé‡ï¼‰
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Download/Download.list,DIRECT

# 4ï¸âƒ£ å›½å†…ä¸»æµåŸŸå/IP
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/China/China.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaIPs/ChinaIPs.list,DIRECT

# 5ï¸âƒ£ åŠŸèƒ½ç»†åˆ†ï¼ˆAI / åª’ä½“ / å›½å¤–å¤§ç«™ï¼‰
RULE-SET,https://raw.githubusercontent.com/no00see123/ACL4SSR/rm/Clash/äººå·¥æ™ºèƒ½.list,äººå·¥æ™ºèƒ½
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.list,Google
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Crypto/Crypto.list,Crypto
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Twitter/Twitter.list,Twitter
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.list,Telegram
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.list,YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Discord/Discord.list,Discord
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaMedia/ChinaMedia.list,å›½å†…åª’ä½“
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list,å›½å¤–åª’ä½“
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.list,å¥ˆé£
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.list,å“”å“©å“”å“©

# 6ï¸âƒ£ å…œåº•ï¼šå…¶ä½™å…¨éƒ¨è¿›ç­–ç•¥æ± 
FINAL,ğŸš€ ç­–ç•¥é€‰æ‹©

# ========== è¾…åŠ©åŠŸèƒ½ ==========
[URL Rewrite]
^https?://(www\.)?g\.cn https://www.google.com 302
^https?://(www\.)?google\.cn https://www.google.com 302

[MITM]
enable = true
hostname = *.google.cn,*.google.com

[Host]
localhost = 127.0.0.1